#include "main.h"
#include <stdint.h>
#include <stdlib.h>

#define SCREEN_X 640
#define SCREEN_Y 480

void readFPGA(uint16_t *addr, uint16_t *data) {
    *data = *addr;
}

void writeFPGA(uint16_t *addr, uint16_t data) {
    *addr = data;
}

typedef struct Color {
    unsigned char r;
    unsigned char g;
    unsigned char b;
} Color;

typedef struct Sprite {
    Color data[16][16];
    uint16_t x;
    uint16_t y;
} Sprite;

Sprite* init_sprite()
{
    Sprite* sprite = malloc(sizeof(Sprite));

    sprite->x = 312;
    sprite->y = 232;

    sprite->data[0][0].r  = 0;
    sprite->data[0][0].g = 0;
    sprite->data[0][0].b  = 0;
    sprite->data[0][1].r  = 0;
    sprite->data[0][1].g = 0;
    sprite->data[0][1].b  = 0;
    sprite->data[0][2].r  = 0;
    sprite->data[0][2].g = 0;
    sprite->data[0][2].b  = 0;
    sprite->data[0][3].r  = 0;
    sprite->data[0][3].g = 0;
    sprite->data[0][3].b  = 0;
    sprite->data[0][4].r  = 0;
    sprite->data[0][4].g = 0;
    sprite->data[0][4].b  = 0;
    sprite->data[0][5].r  = 0;
    sprite->data[0][5].g = 0;
    sprite->data[0][5].b  = 0;
    sprite->data[0][6].r  = 0;
    sprite->data[0][6].g = 0;
    sprite->data[0][6].b  = 0;
    sprite->data[0][7].r  = 0;
    sprite->data[0][7].g = 0;
    sprite->data[0][7].b  = 0;
    sprite->data[0][8].r  = 0;
    sprite->data[0][8].g = 0;
    sprite->data[0][8].b  = 0;
    sprite->data[0][9].r  = 0;
    sprite->data[0][9].g = 0;
    sprite->data[0][9].b  = 0;
    sprite->data[0][10].r = 0;
    sprite->data[0][10].g  = 0;
    sprite->data[0][10].b = 0;
    sprite->data[0][11].r = 0;
    sprite->data[0][11].g  = 0;
    sprite->data[0][11].b = 0;
    sprite->data[0][12].r = 0;
    sprite->data[0][12].g  = 0;
    sprite->data[0][12].b = 0;
    sprite->data[0][13].r = 0;
    sprite->data[0][13].g  = 0;
    sprite->data[0][13].b = 0;
    sprite->data[0][14].r = 0;
    sprite->data[0][14].g  = 0;
    sprite->data[0][14].b = 0;
    sprite->data[0][15].r = 0;
    sprite->data[0][15].g  = 0;
    sprite->data[0][15].b = 0;
    sprite->data[1][0].r  = 0;
    sprite->data[1][0].g = 0;
    sprite->data[1][0].b  = 0;
    sprite->data[1][1].r  = 0;
    sprite->data[1][1].g = 0;
    sprite->data[1][1].b  = 0;
    sprite->data[1][2].r  = 0;
    sprite->data[1][2].g = 0;
    sprite->data[1][2].b  = 0;
    sprite->data[1][3].r  = 0;
    sprite->data[1][3].g = 0;
    sprite->data[1][3].b  = 0;
    sprite->data[1][4].r  = 0;
    sprite->data[1][4].g = 0;
    sprite->data[1][4].b  = 0;
    sprite->data[1][5].r  = 0;
    sprite->data[1][5].g = 0;
    sprite->data[1][5].b  = 0;
    sprite->data[1][6].r  = 0;
    sprite->data[1][6].g = 0;
    sprite->data[1][6].b  = 0;
    sprite->data[1][7].r  = 0;
    sprite->data[1][7].g = 0;
    sprite->data[1][7].b  = 0;
    sprite->data[1][8].r  = 88;
    sprite->data[1][8].g = 8;
    sprite->data[1][8].b  = 88;
    sprite->data[1][9].r  = 88;
    sprite->data[1][9].g = 8;
    sprite->data[1][9].b  = 88;
    sprite->data[1][10].r = 0;
    sprite->data[1][10].g  = 0;
    sprite->data[1][10].b = 0;
    sprite->data[1][11].r = 0;
    sprite->data[1][11].g  = 0;
    sprite->data[1][11].b = 0;
    sprite->data[1][12].r = 0;
    sprite->data[1][12].g  = 0;
    sprite->data[1][12].b = 0;
    sprite->data[1][13].r = 0;
    sprite->data[1][13].g  = 0;
    sprite->data[1][13].b = 0;
    sprite->data[1][14].r = 0;
    sprite->data[1][14].g  = 0;
    sprite->data[1][14].b = 0;
    sprite->data[1][15].r = 0;
    sprite->data[1][15].g  = 0;
    sprite->data[1][15].b = 0;
    sprite->data[2][0].r  = 0;
    sprite->data[2][0].g = 0;
    sprite->data[2][0].b  = 0;
    sprite->data[2][1].r  = 0;
    sprite->data[2][1].g = 0;
    sprite->data[2][1].b  = 0;
    sprite->data[2][2].r  = 0;
    sprite->data[2][2].g = 0;
    sprite->data[2][2].b  = 0;
    sprite->data[2][3].r  = 0;
    sprite->data[2][3].g = 0;
    sprite->data[2][3].b  = 0;
    sprite->data[2][4].r  = 0;
    sprite->data[2][4].g = 0;
    sprite->data[2][4].b  = 0;
    sprite->data[2][5].r  = 0;
    sprite->data[2][5].g = 0;
    sprite->data[2][5].b  = 0;
    sprite->data[2][6].r  = 117;
    sprite->data[2][6].g = 1;
    sprite->data[2][6].b  = 117;
    sprite->data[2][7].r  = 117;
    sprite->data[2][7].g = 1;
    sprite->data[2][7].b  = 117;
    sprite->data[2][8].r  = 141;
    sprite->data[2][8].g = 1;
    sprite->data[2][8].b  = 143;
    sprite->data[2][9].r  = 130;
    sprite->data[2][9].g = 1;
    sprite->data[2][9].b  = 130;
    sprite->data[2][10].r = 184;
    sprite->data[2][10].g  = 1;
    sprite->data[2][10].b = 184;
    sprite->data[2][11].r = 117;
    sprite->data[2][11].g  = 1;
    sprite->data[2][11].b = 117;
    sprite->data[2][12].r = 0;
    sprite->data[2][12].g  = 0;
    sprite->data[2][12].b = 0;
    sprite->data[2][13].r = 0;
    sprite->data[2][13].g  = 0;
    sprite->data[2][13].b = 0;
    sprite->data[2][14].r = 0;
    sprite->data[2][14].g  = 0;
    sprite->data[2][14].b = 0;
    sprite->data[2][15].r = 0;
    sprite->data[2][15].g  = 0;
    sprite->data[2][15].b = 0;
    sprite->data[3][0].r  = 0;
    sprite->data[3][0].g = 0;
    sprite->data[3][0].b  = 0;
    sprite->data[3][1].r  = 0;
    sprite->data[3][1].g = 0;
    sprite->data[3][1].b  = 0;
    sprite->data[3][2].r  = 0;
    sprite->data[3][2].g = 0;
    sprite->data[3][2].b  = 0;
    sprite->data[3][3].r  = 0;
    sprite->data[3][3].g = 0;
    sprite->data[3][3].b  = 0;
    sprite->data[3][4].r  = 0;
    sprite->data[3][4].g = 0;
    sprite->data[3][4].b  = 0;
    sprite->data[3][5].r  = 117;
    sprite->data[3][5].g = 1;
    sprite->data[3][5].b  = 117;
    sprite->data[3][6].r  = 217;
    sprite->data[3][6].g = 2;
    sprite->data[3][6].b  = 217;
    sprite->data[3][7].r  = 184;
    sprite->data[3][7].g = 1;
    sprite->data[3][7].b  = 184;
    sprite->data[3][8].r  = 133;
    sprite->data[3][8].g = 1;
    sprite->data[3][8].b  = 135;
    sprite->data[3][9].r  = 119;
    sprite->data[3][9].g = 1;
    sprite->data[3][9].b  = 120;
    sprite->data[3][10].r = 184;
    sprite->data[3][10].g  = 1;
    sprite->data[3][10].b = 184;
    sprite->data[3][11].r = 217;
    sprite->data[3][11].g  = 2;
    sprite->data[3][11].b = 217;
    sprite->data[3][12].r = 184;
    sprite->data[3][12].g  = 1;
    sprite->data[3][12].b = 184;
    sprite->data[3][13].r = 0;
    sprite->data[3][13].g  = 0;
    sprite->data[3][13].b = 0;
    sprite->data[3][14].r = 0;
    sprite->data[3][14].g  = 0;
    sprite->data[3][14].b = 0;
    sprite->data[3][15].r = 0;
    sprite->data[3][15].g  = 0;
    sprite->data[3][15].b = 0;
    sprite->data[4][0].r  = 0;
    sprite->data[4][0].g = 0;
    sprite->data[4][0].b  = 0;
    sprite->data[4][1].r  = 0;
    sprite->data[4][1].g = 0;
    sprite->data[4][1].b  = 0;
    sprite->data[4][2].r  = 0;
    sprite->data[4][2].g = 0;
    sprite->data[4][2].b  = 0;
    sprite->data[4][3].r  = 0;
    sprite->data[4][3].g = 0;
    sprite->data[4][3].b  = 0;
    sprite->data[4][4].r  = 117;
    sprite->data[4][4].g = 1;
    sprite->data[4][4].b  = 117;
    sprite->data[4][5].r  = 184;
    sprite->data[4][5].g = 1;
    sprite->data[4][5].b  = 184;
    sprite->data[4][6].r  = 217;
    sprite->data[4][6].g = 2;
    sprite->data[4][6].b  = 217;
    sprite->data[4][7].r  = 217;
    sprite->data[4][7].g = 2;
    sprite->data[4][7].b  = 217;
    sprite->data[4][8].r  = 141;
    sprite->data[4][8].g = 1;
    sprite->data[4][8].b  = 143;
    sprite->data[4][9].r  = 119;
    sprite->data[4][9].g = 1;
    sprite->data[4][9].b  = 120;
    sprite->data[4][10].r = 217;
    sprite->data[4][10].g  = 2;
    sprite->data[4][10].b = 217;
    sprite->data[4][11].r = 217;
    sprite->data[4][11].g  = 2;
    sprite->data[4][11].b = 217;
    sprite->data[4][12].r = 145;
    sprite->data[4][12].g  = 1;
    sprite->data[4][12].b = 145;
    sprite->data[4][13].r = 184;
    sprite->data[4][13].g  = 1;
    sprite->data[4][13].b = 184;
    sprite->data[4][14].r = 0;
    sprite->data[4][14].g  = 0;
    sprite->data[4][14].b = 0;
    sprite->data[4][15].r = 0;
    sprite->data[4][15].g  = 0;
    sprite->data[4][15].b = 0;
    sprite->data[5][0].r  = 0;
    sprite->data[5][0].g = 0;
    sprite->data[5][0].b  = 0;
    sprite->data[5][1].r  = 0;
    sprite->data[5][1].g = 0;
    sprite->data[5][1].b  = 0;
    sprite->data[5][2].r  = 117;
    sprite->data[5][2].g = 1;
    sprite->data[5][2].b  = 117;
    sprite->data[5][3].r  = 184;
    sprite->data[5][3].g = 1;
    sprite->data[5][3].b  = 184;
    sprite->data[5][4].r  = 217;
    sprite->data[5][4].g = 2;
    sprite->data[5][4].b  = 217;
    sprite->data[5][5].r  = 184;
    sprite->data[5][5].g = 1;
    sprite->data[5][5].b  = 184;
    sprite->data[5][6].r  = 217;
    sprite->data[5][6].g = 2;
    sprite->data[5][6].b  = 217;
    sprite->data[5][7].r  = 184;
    sprite->data[5][7].g = 1;
    sprite->data[5][7].b  = 184;
    sprite->data[5][8].r  = 133;
    sprite->data[5][8].g = 1;
    sprite->data[5][8].b  = 135;
    sprite->data[5][9].r  = 112;
    sprite->data[5][9].g = 1;
    sprite->data[5][9].b  = 112;
    sprite->data[5][10].r = 217;
    sprite->data[5][10].g  = 2;
    sprite->data[5][10].b = 217;
    sprite->data[5][11].r = 145;
    sprite->data[5][11].g  = 1;
    sprite->data[5][11].b = 145;
    sprite->data[5][12].r = 184;
    sprite->data[5][12].g  = 1;
    sprite->data[5][12].b = 184;
    sprite->data[5][13].r = 184;
    sprite->data[5][13].g  = 1;
    sprite->data[5][13].b = 184;
    sprite->data[5][14].r = 95;
    sprite->data[5][14].g  = 1;
    sprite->data[5][14].b = 216;
    sprite->data[5][15].r = 0;
    sprite->data[5][15].g  = 0;
    sprite->data[5][15].b = 0;
    sprite->data[6][0].r  = 117;
    sprite->data[6][0].g = 1;
    sprite->data[6][0].b  = 117;
    sprite->data[6][1].r  = 117;
    sprite->data[6][1].g = 1;
    sprite->data[6][1].b  = 117;
    sprite->data[6][2].r  = 217;
    sprite->data[6][2].g = 2;
    sprite->data[6][2].b  = 217;
    sprite->data[6][3].r  = 217;
    sprite->data[6][3].g = 2;
    sprite->data[6][3].b  = 217;
    sprite->data[6][4].r  = 217;
    sprite->data[6][4].g = 2;
    sprite->data[6][4].b  = 217;
    sprite->data[6][5].r  = 217;
    sprite->data[6][5].g = 2;
    sprite->data[6][5].b  = 217;
    sprite->data[6][6].r  = 217;
    sprite->data[6][6].g = 2;
    sprite->data[6][6].b  = 217;
    sprite->data[6][7].r  = 217;
    sprite->data[6][7].g = 2;
    sprite->data[6][7].b  = 217;
    sprite->data[6][8].r  = 97;
    sprite->data[6][8].g = 9;
    sprite->data[6][8].b  = 97;
    sprite->data[6][9].r  = 97;
    sprite->data[6][9].g = 9;
    sprite->data[6][9].b  = 97;
    sprite->data[6][10].r = 161;
    sprite->data[6][10].g  = 1;
    sprite->data[6][10].b = 161;
    sprite->data[6][11].r = 184;
    sprite->data[6][11].g  = 1;
    sprite->data[6][11].b = 184;
    sprite->data[6][12].r = 196;
    sprite->data[6][12].g  = 1;
    sprite->data[6][12].b = 196;
    sprite->data[6][13].r = 141;
    sprite->data[6][13].g  = 1;
    sprite->data[6][13].b = 143;
    sprite->data[6][14].r = 184;
    sprite->data[6][14].g  = 1;
    sprite->data[6][14].b = 184;
    sprite->data[6][15].r = 83;
    sprite->data[6][15].g  = 1;
    sprite->data[6][15].b = 216;
    sprite->data[7][0].r  = 0;
    sprite->data[7][0].g = 0;
    sprite->data[7][0].b  = 0;
    sprite->data[7][1].r  = 0;
    sprite->data[7][1].g = 0;
    sprite->data[7][1].b  = 0;
    sprite->data[7][2].r  = 0;
    sprite->data[7][2].g = 0;
    sprite->data[7][2].b  = 0;
    sprite->data[7][3].r  = 145;
    sprite->data[7][3].g = 1;
    sprite->data[7][3].b  = 145;
    sprite->data[7][4].r  = 138;
    sprite->data[7][4].g = 1;
    sprite->data[7][4].b  = 138;
    sprite->data[7][5].r  = 138;
    sprite->data[7][5].g = 1;
    sprite->data[7][5].b  = 138;
    sprite->data[7][6].r  = 120;
    sprite->data[7][6].g = 1;
    sprite->data[7][6].b  = 120;
    sprite->data[7][7].r  = 97;
    sprite->data[7][7].g = 9;
    sprite->data[7][7].b  = 97;
    sprite->data[7][8].r  = 204;
    sprite->data[7][8].g = 2;
    sprite->data[7][8].b  = 204;
    sprite->data[7][9].r  = 184;
    sprite->data[7][9].g = 1;
    sprite->data[7][9].b  = 184;
    sprite->data[7][10].r = 88;
    sprite->data[7][10].g  = 8;
    sprite->data[7][10].b = 88;
    sprite->data[7][11].r = 141;
    sprite->data[7][11].g  = 1;
    sprite->data[7][11].b = 143;
    sprite->data[7][12].r = 196;
    sprite->data[7][12].g  = 1;
    sprite->data[7][12].b = 196;
    sprite->data[7][13].r = 196;
    sprite->data[7][13].g  = 1;
    sprite->data[7][13].b = 196;
    sprite->data[7][14].r = 196;
    sprite->data[7][14].g  = 1;
    sprite->data[7][14].b = 196;
    sprite->data[7][15].r = 71;
    sprite->data[7][15].g  = 1;
    sprite->data[7][15].b = 214;
    sprite->data[8][0].r  = 0;
    sprite->data[8][0].g = 0;
    sprite->data[8][0].b  = 0;
    sprite->data[8][1].r  = 0;
    sprite->data[8][1].g = 0;
    sprite->data[8][1].b  = 0;
    sprite->data[8][2].r  = 0;
    sprite->data[8][2].g = 0;
    sprite->data[8][2].b  = 0;
    sprite->data[8][3].r  = 151;
    sprite->data[8][3].g = 1;
    sprite->data[8][3].b  = 153;
    sprite->data[8][4].r  = 151;
    sprite->data[8][4].g = 1;
    sprite->data[8][4].b  = 153;
    sprite->data[8][5].r  = 141;
    sprite->data[8][5].g = 1;
    sprite->data[8][5].b  = 143;
    sprite->data[8][6].r  = 141;
    sprite->data[8][6].g = 1;
    sprite->data[8][6].b  = 143;
    sprite->data[8][7].r  = 88;
    sprite->data[8][7].g = 8;
    sprite->data[8][7].b  = 88;
    sprite->data[8][8].r  = 184;
    sprite->data[8][8].g = 1;
    sprite->data[8][8].b  = 184;
    sprite->data[8][9].r  = 184;
    sprite->data[8][9].g = 1;
    sprite->data[8][9].b  = 184;
    sprite->data[8][10].r = 88;
    sprite->data[8][10].g  = 8;
    sprite->data[8][10].b = 88;
    sprite->data[8][11].r = 196;
    sprite->data[8][11].g  = 1;
    sprite->data[8][11].b = 196;
    sprite->data[8][12].r = 196;
    sprite->data[8][12].g  = 1;
    sprite->data[8][12].b = 196;
    sprite->data[8][13].r = 196;
    sprite->data[8][13].g  = 1;
    sprite->data[8][13].b = 196;
    sprite->data[8][14].r = 141;
    sprite->data[8][14].g  = 1;
    sprite->data[8][14].b = 143;
    sprite->data[8][15].r = 71;
    sprite->data[8][15].g  = 1;
    sprite->data[8][15].b = 214;
    sprite->data[9][0].r  = 117;
    sprite->data[9][0].g = 1;
    sprite->data[9][0].b  = 117;
    sprite->data[9][1].r  = 117;
    sprite->data[9][1].g = 1;
    sprite->data[9][1].b  = 117;
    sprite->data[9][2].r  = 217;
    sprite->data[9][2].g = 2;
    sprite->data[9][2].b  = 217;
    sprite->data[9][3].r  = 217;
    sprite->data[9][3].g = 2;
    sprite->data[9][3].b  = 217;
    sprite->data[9][4].r  = 130;
    sprite->data[9][4].g = 1;
    sprite->data[9][4].b  = 130;
    sprite->data[9][5].r  = 217;
    sprite->data[9][5].g = 2;
    sprite->data[9][5].b  = 217;
    sprite->data[9][6].r  = 217;
    sprite->data[9][6].g = 2;
    sprite->data[9][6].b  = 217;
    sprite->data[9][7].r  = 184;
    sprite->data[9][7].g = 1;
    sprite->data[9][7].b  = 184;
    sprite->data[9][8].r  = 88;
    sprite->data[9][8].g = 8;
    sprite->data[9][8].b  = 88;
    sprite->data[9][9].r  = 88;
    sprite->data[9][9].g = 8;
    sprite->data[9][9].b  = 88;
    sprite->data[9][10].r = 161;
    sprite->data[9][10].g  = 1;
    sprite->data[9][10].b = 161;
    sprite->data[9][11].r = 184;
    sprite->data[9][11].g  = 1;
    sprite->data[9][11].b = 184;
    sprite->data[9][12].r = 196;
    sprite->data[9][12].g  = 1;
    sprite->data[9][12].b = 196;
    sprite->data[9][13].r = 141;
    sprite->data[9][13].g  = 1;
    sprite->data[9][13].b = 143;
    sprite->data[9][14].r = 184;
    sprite->data[9][14].g  = 1;
    sprite->data[9][14].b = 184;
    sprite->data[9][15].r = 83;
    sprite->data[9][15].g  = 1;
    sprite->data[9][15].b = 216;
    sprite->data[10][0].r  = 0;
    sprite->data[10][0].g = 0;
    sprite->data[10][0].b  = 0;
    sprite->data[10][1].r  = 0;
    sprite->data[10][1].g = 0;
    sprite->data[10][1].b  = 0;
    sprite->data[10][2].r  = 117;
    sprite->data[10][2].g = 1;
    sprite->data[10][2].b  = 117;
    sprite->data[10][3].r  = 130;
    sprite->data[10][3].g = 1;
    sprite->data[10][3].b  = 130;
    sprite->data[10][4].r  = 217;
    sprite->data[10][4].g = 2;
    sprite->data[10][4].b  = 217;
    sprite->data[10][5].r  = 217;
    sprite->data[10][5].g = 2;
    sprite->data[10][5].b  = 217;
    sprite->data[10][6].r  = 184;
    sprite->data[10][6].g = 1;
    sprite->data[10][6].b  = 184;
    sprite->data[10][7].r  = 184;
    sprite->data[10][7].g = 1;
    sprite->data[10][7].b  = 184;
    sprite->data[10][8].r  = 133;
    sprite->data[10][8].g = 1;
    sprite->data[10][8].b  = 135;
    sprite->data[10][9].r  = 113;
    sprite->data[10][9].g = 1;
    sprite->data[10][9].b  = 115;
    sprite->data[10][10].r = 217;
    sprite->data[10][10].g  = 2;
    sprite->data[10][10].b = 217;
    sprite->data[10][11].r = 145;
    sprite->data[10][11].g  = 1;
    sprite->data[10][11].b = 145;
    sprite->data[10][12].r = 184;
    sprite->data[10][12].g  = 1;
    sprite->data[10][12].b = 184;
    sprite->data[10][13].r = 184;
    sprite->data[10][13].g  = 1;
    sprite->data[10][13].b = 184;
    sprite->data[10][14].r = 95;
    sprite->data[10][14].g  = 1;
    sprite->data[10][14].b = 216;
    sprite->data[10][15].r = 0;
    sprite->data[10][15].g  = 0;
    sprite->data[10][15].b = 0;
    sprite->data[11][0].r  = 0;
    sprite->data[11][0].g = 0;
    sprite->data[11][0].b  = 0;
    sprite->data[11][1].r  = 0;
    sprite->data[11][1].g = 0;
    sprite->data[11][1].b  = 0;
    sprite->data[11][2].r  = 0;
    sprite->data[11][2].g = 0;
    sprite->data[11][2].b  = 0;
    sprite->data[11][3].r  = 117;
    sprite->data[11][3].g = 1;
    sprite->data[11][3].b  = 117;
    sprite->data[11][4].r  = 184;
    sprite->data[11][4].g = 1;
    sprite->data[11][4].b  = 184;
    sprite->data[11][5].r  = 184;
    sprite->data[11][5].g = 1;
    sprite->data[11][5].b  = 184;
    sprite->data[11][6].r  = 184;
    sprite->data[11][6].g = 1;
    sprite->data[11][6].b  = 184;
    sprite->data[11][7].r  = 130;
    sprite->data[11][7].g = 1;
    sprite->data[11][7].b  = 130;
    sprite->data[11][8].r  = 141;
    sprite->data[11][8].g = 1;
    sprite->data[11][8].b  = 143;
    sprite->data[11][9].r  = 113;
    sprite->data[11][9].g = 1;
    sprite->data[11][9].b  = 115;
    sprite->data[11][10].r = 184;
    sprite->data[11][10].g  = 1;
    sprite->data[11][10].b = 184;
    sprite->data[11][11].r = 217;
    sprite->data[11][11].g  = 2;
    sprite->data[11][11].b = 217;
    sprite->data[11][12].r = 161;
    sprite->data[11][12].g  = 1;
    sprite->data[11][12].b = 161;
    sprite->data[11][13].r = 184;
    sprite->data[11][13].g  = 1;
    sprite->data[11][13].b = 184;
    sprite->data[11][14].r = 0;
    sprite->data[11][14].g  = 0;
    sprite->data[11][14].b = 0;
    sprite->data[11][15].r = 0;
    sprite->data[11][15].g  = 0;
    sprite->data[11][15].b = 0;
    sprite->data[12][0].r  = 0;
    sprite->data[12][0].g = 0;
    sprite->data[12][0].b  = 0;
    sprite->data[12][1].r  = 117;
    sprite->data[12][1].g = 1;
    sprite->data[12][1].b  = 117;
    sprite->data[12][2].r  = 184;
    sprite->data[12][2].g = 1;
    sprite->data[12][2].b  = 184;
    sprite->data[12][3].r  = 184;
    sprite->data[12][3].g = 1;
    sprite->data[12][3].b  = 184;
    sprite->data[12][4].r  = 184;
    sprite->data[12][4].g = 1;
    sprite->data[12][4].b  = 184;
    sprite->data[12][5].r  = 217;
    sprite->data[12][5].g = 2;
    sprite->data[12][5].b  = 217;
    sprite->data[12][6].r  = 130;
    sprite->data[12][6].g = 1;
    sprite->data[12][6].b  = 130;
    sprite->data[12][7].r  = 217;
    sprite->data[12][7].g = 2;
    sprite->data[12][7].b  = 217;
    sprite->data[12][8].r  = 141;
    sprite->data[12][8].g = 1;
    sprite->data[12][8].b  = 143;
    sprite->data[12][9].r  = 119;
    sprite->data[12][9].g = 1;
    sprite->data[12][9].b  = 120;
    sprite->data[12][10].r = 217;
    sprite->data[12][10].g  = 2;
    sprite->data[12][10].b = 217;
    sprite->data[12][11].r = 217;
    sprite->data[12][11].g  = 2;
    sprite->data[12][11].b = 217;
    sprite->data[12][12].r = 184;
    sprite->data[12][12].g  = 1;
    sprite->data[12][12].b = 184;
    sprite->data[12][13].r = 0;
    sprite->data[12][13].g  = 0;
    sprite->data[12][13].b = 0;
    sprite->data[12][14].r = 0;
    sprite->data[12][14].g  = 0;
    sprite->data[12][14].b = 0;
    sprite->data[12][15].r = 0;
    sprite->data[12][15].g  = 0;
    sprite->data[12][15].b = 0;
    sprite->data[13][0].r  = 0;
    sprite->data[13][0].g = 0;
    sprite->data[13][0].b  = 0;
    sprite->data[13][1].r  = 0;
    sprite->data[13][1].g = 0;
    sprite->data[13][1].b  = 0;
    sprite->data[13][2].r  = 0;
    sprite->data[13][2].g = 0;
    sprite->data[13][2].b  = 0;
    sprite->data[13][3].r  = 0;
    sprite->data[13][3].g = 0;
    sprite->data[13][3].b  = 0;
    sprite->data[13][4].r  = 117;
    sprite->data[13][4].g = 1;
    sprite->data[13][4].b  = 117;
    sprite->data[13][5].r  = 130;
    sprite->data[13][5].g = 1;
    sprite->data[13][5].b  = 130;
    sprite->data[13][6].r  = 184;
    sprite->data[13][6].g = 1;
    sprite->data[13][6].b  = 184;
    sprite->data[13][7].r  = 184;
    sprite->data[13][7].g = 1;
    sprite->data[13][7].b  = 184;
    sprite->data[13][8].r  = 141;
    sprite->data[13][8].g = 1;
    sprite->data[13][8].b  = 143;
    sprite->data[13][9].r  = 130;
    sprite->data[13][9].g = 1;
    sprite->data[13][9].b  = 130;
    sprite->data[13][10].r = 184;
    sprite->data[13][10].g  = 1;
    sprite->data[13][10].b = 184;
    sprite->data[13][11].r = 117;
    sprite->data[13][11].g  = 1;
    sprite->data[13][11].b = 117;
    sprite->data[13][12].r = 0;
    sprite->data[13][12].g  = 0;
    sprite->data[13][12].b = 0;
    sprite->data[13][13].r = 0;
    sprite->data[13][13].g  = 0;
    sprite->data[13][13].b = 0;
    sprite->data[13][14].r = 0;
    sprite->data[13][14].g  = 0;
    sprite->data[13][14].b = 0;
    sprite->data[13][15].r = 0;
    sprite->data[13][15].g  = 0;
    sprite->data[13][15].b = 0;
    sprite->data[14][0].r  = 0;
    sprite->data[14][0].g = 0;
    sprite->data[14][0].b  = 0;
    sprite->data[14][1].r  = 0;
    sprite->data[14][1].g = 0;
    sprite->data[14][1].b  = 0;
    sprite->data[14][2].r  = 0;
    sprite->data[14][2].g = 0;
    sprite->data[14][2].b  = 0;
    sprite->data[14][3].r  = 0;
    sprite->data[14][3].g = 0;
    sprite->data[14][3].b  = 0;
    sprite->data[14][4].r  = 0;
    sprite->data[14][4].g = 0;
    sprite->data[14][4].b  = 0;
    sprite->data[14][5].r  = 0;
    sprite->data[14][5].g = 0;
    sprite->data[14][5].b  = 0;
    sprite->data[14][6].r  = 0;
    sprite->data[14][6].g = 0;
    sprite->data[14][6].b  = 0;
    sprite->data[14][7].r  = 0;
    sprite->data[14][7].g = 0;
    sprite->data[14][7].b  = 0;
    sprite->data[14][8].r  = 88;
    sprite->data[14][8].g = 8;
    sprite->data[14][8].b  = 88;
    sprite->data[14][9].r  = 88;
    sprite->data[14][9].g = 8;
    sprite->data[14][9].b  = 88;
    sprite->data[14][10].r = 0;
    sprite->data[14][10].g  = 0;
    sprite->data[14][10].b = 0;
    sprite->data[14][11].r = 0;
    sprite->data[14][11].g  = 0;
    sprite->data[14][11].b = 0;
    sprite->data[14][12].r = 0;
    sprite->data[14][12].g  = 0;
    sprite->data[14][12].b = 0;
    sprite->data[14][13].r = 0;
    sprite->data[14][13].g  = 0;
    sprite->data[14][13].b = 0;
    sprite->data[14][14].r = 0;
    sprite->data[14][14].g  = 0;
    sprite->data[14][14].b = 0;
    sprite->data[14][15].r = 0;
    sprite->data[14][15].g  = 0;
    sprite->data[14][15].b = 0;
    sprite->data[15][0].r  = 0;
    sprite->data[15][0].g = 0;
    sprite->data[15][0].b  = 0;
    sprite->data[15][1].r  = 0;
    sprite->data[15][1].g = 0;
    sprite->data[15][1].b  = 0;
    sprite->data[15][2].r  = 0;
    sprite->data[15][2].g = 0;
    sprite->data[15][2].b  = 0;
    sprite->data[15][3].r  = 0;
    sprite->data[15][3].g = 0;
    sprite->data[15][3].b  = 0;
    sprite->data[15][4].r  = 0;
    sprite->data[15][4].g = 0;
    sprite->data[15][4].b  = 0;
    sprite->data[15][5].r  = 0;
    sprite->data[15][5].g = 0;
    sprite->data[15][5].b  = 0;
    sprite->data[15][6].r  = 0;
    sprite->data[15][6].g = 0;
    sprite->data[15][6].b  = 0;
    sprite->data[15][7].r  = 0;
    sprite->data[15][7].g = 0;
    sprite->data[15][7].b  = 0;
    sprite->data[15][8].r  = 0;
    sprite->data[15][8].g = 0;
    sprite->data[15][8].b  = 0;
    sprite->data[15][9].r  = 0;
    sprite->data[15][9].g = 0;
    sprite->data[15][9].b  = 0;
    sprite->data[15][10].r = 0;
    sprite->data[15][10].g  = 0;
    sprite->data[15][10].b = 0;
    sprite->data[15][11].r = 0;
    sprite->data[15][11].g  = 0;
    sprite->data[15][11].b = 0;
    sprite->data[15][12].r = 0;
    sprite->data[15][12].g  = 0;
    sprite->data[15][12].b = 0;
    sprite->data[15][13].r = 0;
    sprite->data[15][13].g  = 0;
    sprite->data[15][13].b = 0;
    sprite->data[15][14].r = 0;
    sprite->data[15][14].g  = 0;
    sprite->data[15][14].b = 0;
    sprite->data[15][15].r = 0;
    sprite->data[15][15].g  = 0;
    sprite->data[15][15].b = 0;

    
}
    

int main(void) {
    
    uint16_t *fpgaAddr;

    CHIP_Init();

    /* Configure core clock to 48 MHz high frequency crystal oscillator*/
    CMU_ClockSelectSet(cmuClock_HF, cmuSelect_HFXO);
    CMU_ClockDivSet(cmuClock_HF, cmuClkDiv_512);

    /* Setup SysTick Timer for 1 msec interrupts  */
    //SysTick_Config(CMU_ClockFreqGet(cmuClock_CORE) / 1000);

    EBI_SetUp();

    /* Memory bank 0: 0x80000000 -> 0x83ffffff */
    fpgaAddr = (uint16_t *) EBI_BankAddress(EBI_BANK0);

    /* Write garbage to FPGA */

    Sprite* sprite = init_sprite();

    char* garbage = malloc(sizeof(char)*255);

    for(int i = 0; i < 255; i++)
        *(garbage + i) = i;

    int offset = 0;
    int offsetAddr = 0;
    int offsetData = 0;

    int ypos;
    int xpos;

    while(1) {

        offset++;
        offsetAddr = offset % 640;

        xpos++;
        if(xpos == SCREEN_X) ypos++;

        xpos = xpos % SCREEN_X;
        ypos = ypos % SCREEN_Y;

        int ydiff = ypos - sprite->y;
        int xdiff = xpos - sprite->x;

        if( ( ydiff > 0 && ydiff < 16 ) && (xdiff > 0 && xdiff < 16) )
        {
            writeFPGA(fpgaAddr + offsetAddr, 255);
        } else {
            writeFPGA(fpgaAddr + offsetAddr,  0);
        }


        /*offset ++;
        offsetData = offset % 255;
        offsetAddr = offset % 640;
        writeFPGA(fpgaAddr + offsetAddr, *(garbage + offsetData));*/
    }


}
